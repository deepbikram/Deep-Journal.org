# Example GitHub Release Creation

This document shows how to create a release that works with the auto-update system.

## Manual Release Creation

1. **Go to your GitHub repository**
2. **Click "Releases" → "Create a new release"**
3. **Fill in the details:**

   **Tag version:** `v1.0.0`
   
   **Release title:** `Deep Journal v1.0.0`
   
   **Description:**
   ```markdown
   ## What's New
   - New auto-update system
   - Improved performance
   - Bug fixes and stability improvements
   
   ## Installation
   - **Windows:** Download `Deep-Journal-Setup-1.0.0.exe`
   - **macOS:** Download `Deep-Journal-1.0.0.dmg`
   - **Linux:** Download `Deep-Journal-1.0.0.AppImage`
   
   ## Auto-Updates
   Existing users will be automatically notified of this update.
   ```

4. **Upload the following files** (generated by `pnpm run release`):

### Required Files for Auto-Updates:

**Windows:**
- `Deep-Journal-Setup-1.0.0.exe`
- `latest.yml`

**macOS:**
- `Deep-Journal-1.0.0.dmg`
- `Deep-Journal-1.0.0-mac.zip`
- `latest-mac.yml`

**Linux:**
- `Deep-Journal-1.0.0.AppImage`
- `latest-linux.yml`

## The `latest.yml` files are crucial!

These files contain metadata that electron-updater uses to:
- Check if updates are available
- Download the correct files
- Verify checksums

Example `latest.yml`:
```yaml
version: 1.0.0
files:
  - url: Deep-Journal-Setup-1.0.0.exe
    sha512: [checksum]
    size: 89543210
path: Deep-Journal-Setup-1.0.0.exe
sha512: [checksum]
releaseDate: '2024-01-15T10:30:00.000Z'
```

## Automated Release with GitHub Actions

Create `.github/workflows/release.yml`:

```yaml
name: Release

on:
  push:
    tags:
      - 'v*'

jobs:
  release:
    runs-on: ubuntu-latest
    
    steps:
    - uses: actions/checkout@v3
    
    - name: Setup Node.js
      uses: actions/setup-node@v3
      with:
        node-version: '18'
        
    - name: Install pnpm
      uses: pnpm/action-setup@v2
      with:
        version: 8
        
    - name: Install dependencies
      run: pnpm install
      
    - name: Build and release
      env:
        GH_TOKEN: ${{ secrets.GITHUB_TOKEN }}
      run: pnpm run release
```

## Testing Updates

1. **Install a previous version** of your app
2. **Create a new release** with a higher version number
3. **Start the app** - it should detect and offer the update
4. **Or click "Check for Updates"** in Settings

## Version Numbering

Use semantic versioning:
- `1.0.0` → `1.0.1` (patch - bug fixes)
- `1.0.0` → `1.1.0` (minor - new features)
- `1.0.0` → `2.0.0` (major - breaking changes)

The auto-updater will only offer updates to higher version numbers.
